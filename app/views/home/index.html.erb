<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fixed Base Color Palette</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
<style>
  :root { --navbar-height: 60px; }
  body { margin: 0; height: 100vh; font-family: 'Inter', sans-serif; overflow: hidden; background-color: #f1f5f9; }

  .navbar { height: var(--navbar-height); width: 100%; position: fixed; top: 0; background: #0f172a; color: white; z-index: 100; display: flex; justify-content: space-between; align-items: center; padding: 0 24px; }

  .main { display: flex; height: 100vh; padding-top: var(--navbar-height); }

  /* ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏µ */
  #colorDisplay { 
    flex-grow: 1; 
    display: flex; 
    transition: all 0.5s ease;
    background: #e2e8f0;
  }

  /* ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡πÅ‡∏ó‡πà‡∏á‡∏™‡∏µ‡πÉ‡∏´‡πâ‡∏ô‡∏¥‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏•‡∏∑‡πà‡∏ô‡πÑ‡∏´‡∏• */
  .color-box {
    flex: 1;
    height: 100%;
    display: flex;
    align-items: flex-end;
    position: relative;
    transition: flex 0.6s cubic-bezier(0.16, 1, 0.3, 1), background-color 0.4s ease;
    cursor: pointer;
    overflow: hidden;
    min-width: 0; /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏±‡∏ô‡∏Å‡∏±‡∏ô‡∏à‡∏ô‡∏´‡∏•‡∏∏‡∏î‡∏Ç‡∏≠‡∏ö */
  }

  /* ‡∏•‡πá‡∏≠‡∏Å‡πÉ‡∏´‡πâ Base Color ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô */
  .color-box[data-type="base"] {
    flex: 1.5; /* ‡πÉ‡∏´‡πâ Base ‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏∏‡∏î‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï */
  }

  .color-label {
    width: 100%;
    text-align: center;
    background: rgba(0, 0, 0, 0.15);
    backdrop-filter: blur(8px);
    color: white;
    font-weight: 700;
    font-family: 'JetBrains Mono', monospace;
    padding: 25px 10px;
    font-size: 0.9rem;
    pointer-events: none;
  }

  .sidebar { width: 300px; background: white; padding: 30px 20px; border-left: 1px solid #cbd5e1; display: flex; flex-direction: column; gap: 15px; }

  .sidebar-btn { @apply w-full py-3 rounded-xl font-bold transition-all text-white text-xs uppercase tracking-wider; }
  .btn-inactive { opacity: 0.4; filter: grayscale(1); }
</style>
</head>
<body>

<div class="navbar">
  <div class="flex items-center gap-2">
    <span class="text-2xl">üé®</span>
    <span class="text-lg font-bold tracking-widest uppercase">Color Fixed</span>
  </div>
</div>

<div class="main">
  <div id="colorDisplay"></div>

  <div class="sidebar">
    <div class="mb-4">
      <label class="font-bold text-gray-500 text-[10px] uppercase">Base Color</label>
      <input type="color" id="baseColor" value="#66d7d1" class="w-full h-14 rounded-xl cursor-pointer bg-white border-2 border-slate-100 p-1 mt-1">
    </div>

    <div class="flex flex-col gap-2">
      <p class="text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1">Toggle Schemes</p>
      <button class="sidebar-btn bg-blue-500 type-btn" data-type="analogous">Analogous</button>
      <button class="sidebar-btn bg-indigo-500 type-btn" data-type="triadic">Triadic</button>
      <button class="sidebar-btn bg-purple-500 type-btn" data-type="split">Split-Comp</button>
      <button class="sidebar-btn bg-pink-500 type-btn" data-type="tints">Tints</button>
      <button class="sidebar-btn bg-rose-500 type-btn" data-type="shades">Shades</button>
    </div>
  </div>
</div>

<script>
/* Color Logic (Helper Functions) */
const hexToRgb = h => {
  const n = parseInt(h.replace("#",""),16);
  return { r:(n>>16)&255, g:(n>>8)&255, b:n&255 };
}
const rgbToHex = (r,g,b) => "#"+[r,g,b].map(c=>c.toString(16).padStart(2,"0")).join("").toUpperCase();
const rgbToHsl = (r,g,b) => {
  r/=255; g/=255; b/=255;
  let max=Math.max(r,g,b), min=Math.min(r,g,b), h=0, s=0, l=(max+min)/2;
  if(max!==min){
    let d=max-min;
    s=l>0.5 ? d/(2-max-min) : d/(max+min);
    if(max===r) h=(g-b)/d + (g<b?6:0);
    else if(max===g) h=(b-r)/d +2;
    else h=(r-g)/d +4;
    h*=60;
  }
  return {h, s:s*100, l:l*100};
}
const hslToHex = (h,s,l) => {
  s/=100; l/=100;
  const k=n=>(n + h/30) % 12, a = s * Math.min(l, 1-l), f=n => l - a * Math.max(-1, Math.min(k(n)-3, Math.min(9-k(n),1)));
  return rgbToHex(Math.round(f(0)*255), Math.round(f(8)*255), Math.round(f(4)*255));
}

let activeTypes = { analogous: false, triadic: false, split: false, tints: false, shades: false };

function getSchemeColors(hex) {
  const {r,g,b}=hexToRgb(hex), {h,s,l}=rgbToHsl(r,g,b);
  const clamp = v => ((v % 360) + 360) % 360;
  return {
    base: [hex],
    analogous: [hslToHex(clamp(h+30),s,l), hslToHex(clamp(h-30),s,l)],
    triadic: [hslToHex(clamp(h+120),s,l), hslToHex(clamp(h-120),s,l)],
    split: [hslToHex(clamp(h+150),s,l), hslToHex(clamp(h-150),s,l)],
    tints: [hslToHex(h,s,Math.min(l+15,100)), hslToHex(h,s,Math.min(l+30,100))],
    shades: [hslToHex(h,s,Math.max(l-15,0)), hslToHex(h,s,Math.max(l-30,0))]
  };
}

function render() {
  const display = document.getElementById("colorDisplay");
  const hex = document.getElementById("baseColor").value;
  const schemes = getSchemeColors(hex);
  
  display.innerHTML = "";

  // 1. ‡∏ß‡∏≤‡∏î Base Color ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏™‡∏°‡∏≠ (‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ã‡πâ‡∏≤‡∏¢‡∏™‡∏∏‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô)
  createBox(hex, 'base', display);

  // 2. ‡∏ß‡∏≤‡∏î‡∏™‡∏µ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
  Object.keys(activeTypes).forEach(type => {
    if (activeTypes[type]) {
      schemes[type].forEach(color => createBox(color, type, display));
    }
  });
}

function createBox(color, type, container) {
  const box = document.createElement("div");
  box.className = "color-box";
  box.dataset.type = type;
  box.style.backgroundColor = color;
  box.innerHTML = `<div class="color-label"><span class="block text-[10px] opacity-60 mb-1">${type.toUpperCase()}</span>${color}</div>`;
  
  box.onclick = () => {
    navigator.clipboard.writeText(color);
    const label = box.querySelector('.color-label');
    const original = label.innerHTML;
    label.innerText = "COPIED!";
    setTimeout(() => label.innerHTML = original, 800);
  };
  
  container.appendChild(box);
}

const picker = document.getElementById("baseColor");
picker.oninput = render;

document.querySelectorAll(".type-btn").forEach(btn => {
  btn.classList.add("btn-inactive");
  btn.onclick = () => {
    const type = btn.dataset.type;
    activeTypes[type] = !activeTypes[type];
    btn.classList.toggle("btn-inactive");
    render();
  };
});

// Initial Render
render();
</script>
</body>
</html>