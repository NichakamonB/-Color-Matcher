<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Color Matcher</title>
<script src="https://cdn.tailwindcss.com"></script>

<style>
  *, *::before, *::after { box-sizing: border-box; }

  body, html {
    margin:0;
    padding:0;
    height:100%;
    width:100%;
    overflow:hidden;
    font-family: sans-serif;
  }

  .sidebar-btn {
    @apply w-full py-3 rounded-lg font-semibold cursor-pointer transition text-white;
  }

  .btn-active {
    background:#1f2937 !important;
  }

  /* ‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡πà‡∏≠‡∏á color */
  .color-box {
    flex: 1 1 120px;
    height: 200px;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    color: white;
    font-weight: bold;
    border-radius: 0.5rem;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }

  /* ‡πÅ‡∏ñ‡∏ö‡πÅ‡∏™‡∏î‡∏á hex code */
  .color-label {
    width: 100%;
    text-align: center;
    background: rgba(0,0,0,0.4);
    padding: 0.25rem;
    border-bottom-left-radius: 0.5rem;
    border-bottom-right-radius: 0.5rem;
  }

  /* scrollbar */
  #colorDisplay {
    overflow-y: auto;
  }
</style>
</head>

<body class="bg-gray-200">

<!-- Navbar -->
<div class="w-full h-14 bg-gray-900 text-white fixed top-0 flex items-center justify-between px-5 z-20 shadow">
  <div class="text-xl font-bold">üé® Color Matcher</div>
  <button class="bg-blue-500 px-4 py-2 rounded-lg font-bold">‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ</button>
</div>

<!-- Main Layout -->
<div class="flex w-full h-screen pt-14">

  <!-- Color Display -->
  <div id="colorDisplay" class="flex-1 flex flex-wrap p-4 gap-4"></div>

  <!-- Sidebar -->
  <div class="w-64 bg-white h-full border-l shadow-xl p-4 flex flex-col gap-3">
    <label class="font-bold text-lg">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ Base</label>

    <input type="color" id="baseColor" value="#66d7d1" 
           class="w-full h-16 rounded cursor-pointer border">

    <div id="hexText" class="text-center font-bold text-gray-800 text-lg"></div>

    <hr class="my-2">

    <button class="sidebar-btn bg-blue-500 type-btn" data-type="base">Base</button>
    <button class="sidebar-btn bg-blue-500 type-btn" data-type="analogous">Analogous</button>
    <button class="sidebar-btn bg-blue-500 type-btn" data-type="triadic">Triadic</button>
    <button class="sidebar-btn bg-blue-500 type-btn" data-type="split">Split</button>
    <button class="sidebar-btn bg-blue-500 type-btn" data-type="tints">Tints</button>
    <button class="sidebar-btn bg-blue-500 type-btn" data-type="shades">Shades</button>
  </div>
</div>

<script>
/* ================== COLOR FUNCTIONS ================== */
function hexToRgb(hex){
  const n = parseInt(hex.replace("#",""),16);
  return { r:(n>>16)&255, g:(n>>8)&255, b:n&255 };
}

function rgbToHex(r,g,b){
  return "#"+[r,g,b].map(c=>c.toString(16).padStart(2,"0")).join("").toUpperCase();
}

function rgbToHsl(r,g,b){
  r/=255; g/=255; b/=255;
  let max=Math.max(r,g,b), min=Math.min(r,g,b);
  let h=0, s=0, l=(max+min)/2;
  if(max!==min){
    let d=max-min;
    s=l>0.5 ? d/(2-max-min) : d/(max+min);
    switch(max){
      case r: h=(g-b)/d + (g<b?6:0); break;
      case g: h=(b-r)/d +2; break;
      case b: h=(r-g)/d +4; break;
    }
    h*=60;
  }
  return {h, s:s*100, l:l*100};
}

function hslToHex(h,s,l){
  s/=100; l/=100;
  const k=n=>(n + h/30) % 12;
  const a = s * Math.min(l, 1-l);
  const f=n => l - a * Math.max(-1, Math.min(k(n)-3, Math.min(9-k(n),1)));
  return rgbToHex(Math.round(f(0)*255), Math.round(f(8)*255), Math.round(f(4)*255));
}

function clampHue(h){ return ((h % 360) + 360) % 360; }

/* ================== GENERATE COLOR SETS ================== */
function generateColors(hex){
  const {r,g,b}=hexToRgb(hex);
  const {h,s,l}=rgbToHsl(r,g,b);

  return {
    base: [hex],
    analogous: [hslToHex(clampHue(h+30),s,l), hslToHex(clampHue(h-30),s,l)],
    triadic: [hslToHex(clampHue(h+120),s,l), hslToHex(clampHue(h-120),s,l)],
    split: [hslToHex(clampHue(h+150),s,l), hslToHex(clampHue(h-150),s,l)],
    tints: [hslToHex(h,s,Math.min(l+10,100)), hslToHex(h,s,Math.min(l+25,100))],
    shades: [hslToHex(h,s,Math.max(l-10,0)), hslToHex(h,s,Math.max(l-25,0))]
  };
}

/* ================== RENDER ================== */
let currentColors = generateColors("#66d7d1");

let activeTypes = {
  base: true,
  analogous: false,
  triadic: false,
  split: false,
  tints: false,
  shades: false
};

function renderAll(){
  const display = document.getElementById("colorDisplay");
  display.innerHTML = "";

  for(let type in activeTypes){
    if(activeTypes[type]){
      currentColors[type].forEach(c=>{
        const box = document.createElement("div");
        box.className = "color-box";
        box.style.background = c;
        box.innerHTML = `<div class="color-label">${c}</div>`;
        display.appendChild(box);
      });
    }
  }
}

/* ================== EVENT HANDLERS ================== */
const picker = document.getElementById("baseColor");
picker.addEventListener("input", ()=>{
  currentColors = generateColors(picker.value);
  document.getElementById("hexText").textContent = picker.value.toUpperCase();
  renderAll();
});

document.querySelectorAll(".type-btn").forEach(btn=>{
  btn.addEventListener("click", ()=>{
    const type = btn.dataset.type;
    activeTypes[type] = !activeTypes[type];
    btn.classList.toggle("btn-active");
    renderAll();
  });
});

// Init
document.getElementById("hexText").textContent = picker.value.toUpperCase();
renderAll();
</script>

</body>
</html>
